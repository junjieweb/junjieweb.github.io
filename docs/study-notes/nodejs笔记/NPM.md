---
sidebar_position: 2
---

# NPM

**NPM**(Node Package Manager), Node çš„åŒ…ç®¡ç†å™¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚å®‰è£…å®Œ nodejs ä¹‹åä¼šè‡ªåŠ¨å®‰è£… npmã€‚

Node.js çš„åŒ…åŸºæœ¬éµå¾ª CommonJS è§„èŒƒï¼Œå°†ä¸€ç»„ç›¸å…³çš„æ¨¡å—ç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„å·¥å…·ã€‚
é€šè¿‡ NPM å¯ä»¥å¯¹ Node çš„å·¥å…·åŒ…è¿›è¡Œæœç´¢ã€ä¸‹è½½ã€å®‰è£…ã€åˆ é™¤ã€ä¸Šä¼ ã€‚å€ŸåŠ©åˆ«äººå†™å¥½çš„åŒ…ï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„å¼€å‘æ›´åŠ æ–¹ä¾¿ã€‚

`node_modules` ç›®å½•æ˜¯ä¸èƒ½è¿›å…¥ Git ä»“åº“çš„

æŸ¥çœ‹ npm çš„ç‰ˆæœ¬ `npm -v`ã€‚
åˆå§‹åŒ– `npm init` æˆ– `npm init --yes`ã€‚
è¿è¡Œåä¼šåˆ›å»º `package.json` é…ç½®æ–‡ä»¶ã€‚

```json
{
  "name": "1-npm",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC"
}
```

:::tip æ³¨æ„ï¼š
ç”Ÿæˆçš„åŒ…åä¸èƒ½ä½¿ç”¨ä¸­æ–‡ã€å¤§å†™ï¼     
ä¸èƒ½ä½¿ç”¨ npm ä½œä¸ºåŒ…çš„åå­—
:::

[å…³äºå¼€æºè¯ä¹¦æ‰©å±•é˜…è¯»](http://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html)

æœç´¢åŒ… `npm search jquery` æˆ– `npm s jquery`
ä¸€èˆ¬åœ¨æœç´¢å·¥å…·åŒ…çš„æ—¶å€™ï¼Œä¼šåˆ° https://www.npmjs.com/ æœç´¢

**å®‰è£…å·¥å…·åŒ…** `npm install jquery` æˆ– `npm i jquery`

```shell
# å®‰è£…å¹¶åœ¨ package.json ä¸­ä¿å­˜åŒ…çš„ä¿¡æ¯(dependencies å±æ€§)
npm install jquery --save
npm install jquery -S
 
# å®‰è£…å¹¶åœ¨ package.json ä¸­ä¿å­˜åŒ…çš„ä¿¡æ¯(devDependencies å±æ€§)
npm install babel --save-dev
npm install babel -D
```

**å…¨å±€å®‰è£…** `npm install less -g` `npm install nodemon -g`

å…¨å±€å®‰è£…ä¸€èˆ¬ç”¨äºå®‰è£…å…¨å±€å·¥å…·ï¼Œå¦‚ `cnpm`ï¼Œ`yarn`ï¼Œ`webpack`ï¼Œ`gulp` ç­‰ã€‚
å…¨å±€å®‰è£…å‘½ä»¤åœ¨ä»»æ„çš„å‘½ä»¤è¡Œä¸‹, éƒ½å¯ä»¥æ‰§è¡Œã€‚  
`npm root -g` æŸ¥çœ‹å…¨å±€å®‰è£…çš„ç›®å½•çš„ä½ç½®ï¼Œå…¨å±€å‘½ä»¤çš„å®‰è£…ä½ç½® `C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Roaming\npm`

**å®‰è£…ä¾èµ–** æ ¹æ® package.json ä¸­çš„ä¾èµ–å£°æ˜ï¼Œ å®‰è£…å·¥å…·åŒ…

- `npm i`
- `npm install`
- `npm i --production` // åªå®‰è£… dependencies ä¸­çš„ä¾èµ–

**ç§»é™¤åŒ…** `npm remove jquery`

**ä½¿ç”¨æµç¨‹**

1. å®šä½åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹(æ–°å»ºæˆ–è€…å·²ç»å­˜åœ¨çš„)
2. å¯åŠ¨å‘½ä»¤è¡Œå°†å·¥ä½œç›®å½•å®šä½åˆ°ç¬¬ä¸€æ­¥çš„æ–‡ä»¶ä¸­çš„
3. è¿è¡Œ `npm init` (åªéœ€è¦è¿è¡Œä¸€æ¬¡)
4. è¿è¡Œ `npm i åŒ…å` å®‰è£…å·¥å…·åŒ…

**å°è£…NPMåŒ…**ï¼ˆåˆ›å»ºè‡ªå·±çš„ NPM åŒ…å¯ä»¥å¸®åŠ©ä»£ç è¿›è¡Œè¿­ä»£è¿›åŒ–ï¼Œä½¿ç”¨æ­¥éª¤ä¹Ÿæ¯”è¾ƒç®€å•ï¼‰

1. ä¿®æ”¹ä¸ºå®˜æ–¹çš„åœ°å€ `npm config set registry https://registry.npmjs.org/`
2. åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºæ–‡ä»¶ `index.js`ï¼Œ åœ¨æ–‡ä»¶ä¸­å£°æ˜å‡½æ•°ï¼Œä½¿ç”¨ `module.exports` æš´éœ²
3. npm åˆå§‹åŒ–å·¥å…·åŒ…ï¼Œ`package.json` å¡«å†™åŒ…çš„ä¿¡æ¯
4. è´¦å·æ³¨å†Œï¼ˆæ¿€æ´»è´¦å·ï¼‰,==å®Œæˆé‚®ç®±éªŒè¯==
5. å‘½ä»¤è¡Œä¸‹ ã€`npm login`ã€ å¡«å†™ç›¸å…³ç”¨æˆ·ä¿¡æ¯ (ä¸€å®šè¦åœ¨åŒ…çš„æ–‡ä»¶å¤¹ä¸‹è¿è¡Œ)
6. å‘½ä»¤è¡Œä¸‹ã€ `npm publish`ã€ æäº¤åŒ… ğŸ‘Œ

- npm æœ‰åƒåœ¾æ£€æµ‹æœºåˆ¶ï¼Œå¦‚æœåå­—ç®€å•æˆ–åšæµ‹è¯•æäº¤ï¼Œå¾ˆå¯èƒ½ä¼šè¢«æ‹’ç»æäº¤
- å¯ä»¥å°è¯•æ”¹ä¸€ä¸‹åŒ…çš„åç§°æ¥è§£å†³è¿™ä¸ªé—®é¢˜
- å‡çº§ NPM åŒ…ï¼Œéœ€è¦ä¿®æ”¹ package.json ä¸­çš„ç‰ˆæœ¬å·ä¿®æ”¹ï¼Œåªéœ€è¦æ‰§è¡Œã€npm publishã€å°±å¯ä»¥èƒ½æäº¤
    1. ä¿®æ”¹åŒ…ä»£ç 
    2. ä¿®æ”¹ package.json ä¸­ç‰ˆæœ¬å·
    3. npm publish æäº¤

åˆ é™¤NPMåŒ… `npm unpublish åŒ…å --force`
